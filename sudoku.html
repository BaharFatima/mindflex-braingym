<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sudoku | MindFlex</title>

<style>
  body {
    margin: 0;
    font-family: Poppins, sans-serif;
    background: linear-gradient(180deg, #E3F2FD, #FFFFFF);
    display: flex;
    flex-direction: column;
    align-items: center;
    color: #1565C0;
  }

  header {
    width: 100%;
    padding: 20px;
    text-align: center;
    position: relative;
  }

  .back-btn {
    position: absolute;
    left: 20px;
    top: 20px;
    font-size: 22px;
    text-decoration: none;
    color: #1565C0;
  }

  .title-box {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
  }

  .game-icon {
    width: 50px;
  }

  #levelSelect {
    margin-top: 10px;
    padding: 6px;
    font-size: 16px;
  }

  #sudoku-board {
    display: grid;
    grid-template-columns: repeat(9, 38px);
    margin-top: 20px;
  }

  input {
    width: 38px;
    height: 38px;
    text-align: center;
    font-size: 16px;
    border: 1px solid #90CAF9;
    outline: none;
  }

  input.prefilled {
    background: #BBDEFB;
    font-weight: bold;
  }

  input.invalid {
    background: #FFCDD2;
  }

  /* GRID LINES */
  input:nth-child(3n) {
    border-right: 2px solid #1565C0;
  }

  input:nth-child(n+19):nth-child(-n+27),
  input:nth-child(n+46):nth-child(-n+54) {
    border-bottom: 2px solid #1565C0;
  }

  .controls {
    margin: 20px;
    display: flex;
    gap: 10px;
  }

  button {
    padding: 10px 16px;
    border-radius: 12px;
    border: none;
    background: #1565C0;
    color: white;
    font-size: 15px;
    cursor: pointer;
  }

  button:hover {
    background: #0D47A1;
  }
</style>
</head>

<body>

<header>
  <a href="focuslab.html" class="back-btn">‚Üê</a>

  <div class="title-box">
    <img src="sudoku.png" class="game-icon" alt="Sudoku">
    <h2>Sudoku</h2>
  </div>

  <select id="levelSelect" onchange="changeLevel()">
    <option value="easy">Easy</option>
    <option value="medium">Medium</option>
    <option value="hard">Hard</option>
  </select>
</header>

<div id="sudoku-board"></div>

<div class="controls">
  <button onclick="giveHint()">Hint</button>
  <button onclick="resetGame()">Reset</button>
</div>
<script src="logistic.js"></script>
<script>
const levels = {
  easy: [
    {
      puzzle: [
        [5,3,"","",7,"","","",""],
        [6,"","",1,9,5,"","",""],
        ["",9,8,"","","","",6,""],
        [8,"","","",6,"","","",3],
        [4,"","",8,"",3,"","",1],
        [7,"","","",2,"","","",6],
        ["",6,"","","","",2,8,""],
        ["","","",4,1,9,"","",5],
        ["","","","",8,"","",7,9]
      ],
      solution: [
        [5,3,4,6,7,8,9,1,2],
        [6,7,2,1,9,5,3,4,8],
        [1,9,8,3,4,2,5,6,7],
        [8,5,9,7,6,1,4,2,3],
        [4,2,6,8,5,3,7,9,1],
        [7,1,3,9,2,4,8,5,6],
        [9,6,1,5,3,7,2,8,4],
        [2,8,7,4,1,9,6,3,5],
        [3,4,5,2,8,6,1,7,9]
      ]
    }
  ],

  medium: [
    {
      puzzle: [
        ["",3,"","",7,"","","",""],
        [6,"","",1,"",5,"","",""],
        ["",9,"","","","",5,"",""],
        [8,"","","",6,"","","",3],
        ["","","",8,"",3,"","",""],
        [7,"","","",2,"","","",6],
        ["",6,"","","","",2,"",""],
        ["","","",4,"",9,"","",5],
        ["","","","",8,"","",7,""]
      ],
      solution: [
        [5,3,4,6,7,8,9,1,2],
        [6,7,2,1,9,5,3,4,8],
        [1,9,8,3,4,2,5,6,7],
        [8,5,9,7,6,1,4,2,3],
        [4,2,6,8,5,3,7,9,1],
        [7,1,3,9,2,4,8,5,6],
        [9,6,1,5,3,7,2,8,4],
        [2,8,7,4,1,9,6,3,5],
        [3,4,5,2,8,6,1,7,9]
      ]
    }
  ],

  hard: [
    {
      puzzle: [
        ["","","","","","","",1,""],
        ["","",2,"","","","","",""],
        ["",9,"","","","","","",""],
        ["","","","",6,"","","",3],
        ["","","","","","","","",""],
        [7,"","","","","","","",6],
        ["","","","","","","2","",""],
        ["","","","",1,"","","",""],
        ["","","","","","","","",""]
      ],
      solution: [
        [5,3,4,6,7,8,9,1,2],
        [6,7,2,1,9,5,3,4,8],
        [1,9,8,3,4,2,5,6,7],
        [8,5,9,7,6,1,4,2,3],
        [4,2,6,8,5,3,7,9,1],
        [7,1,3,9,2,4,8,5,6],
        [9,6,1,5,3,7,2,8,4],
        [2,8,7,4,1,9,6,3,5],
        [3,4,5,2,8,6,1,7,9]
      ]
    }
  ]
};

let currentLevel = "easy";
let currentGame = null;

const board = document.getElementById("sudoku-board");

const nextBtn = document.createElement("button");
nextBtn.textContent = "Next Puzzle";
nextBtn.style.display = "none";
nextBtn.onclick = loadRandomGame;
document.querySelector(".controls").appendChild(nextBtn);

function loadRandomGame() {
  const pool = levels[currentLevel];
  currentGame = pool[Math.floor(Math.random() * pool.length)];
  nextBtn.style.display = "none";
  createBoard();
}

function createBoard() {
  board.innerHTML = "";

  currentGame.puzzle.forEach((row, r) => {
    row.forEach((cell, c) => {
      const input = document.createElement("input");
      input.maxLength = 1;
      input.dataset.row = r;
      input.dataset.col = c;

      if (cell !== "") {
        input.value = cell;
        input.disabled = true;
        input.classList.add("prefilled");
      }

      input.oninput = () => validate(input);
      board.appendChild(input);
    });
  });
}

function validate(input) {
  const r = input.dataset.row;
  const c = input.dataset.col;
  const val = input.value;

  input.classList.remove("invalid");

  if (!/^[1-9]$/.test(val)) {
    input.value = "";
    return;
  }

  if (parseInt(val) !== currentGame.solution[r][c]) {
    input.classList.add("invalid");
  }

  checkCompletion();
}

function giveHint() {
  const inputs = document.querySelectorAll("#sudoku-board input");

  for (let input of inputs) {
    if (!input.disabled && input.value === "") {
      const r = input.dataset.row;
      const c = input.dataset.col;
      input.value = currentGame.solution[r][c];
      input.disabled = true;
      input.classList.add("prefilled");
      break;
    }
  }
}

function checkCompletion() {
  const inputs = document.querySelectorAll("#sudoku-board input");
  for (let input of inputs) {
    if (input.value === "" || input.classList.contains("invalid")) return;
  }
  alert("üéâ Puzzle Completed!");
  nextBtn.style.display = "inline-block";
}

function changeLevel() {
  currentLevel = document.getElementById("levelSelect").value;
  loadRandomGame();
}

loadRandomGame();
</script>



</body>
</html>