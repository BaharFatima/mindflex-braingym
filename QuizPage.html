<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
  * { margin: 0; padding: 0; box-sizing:border-box; font-family: 'Poppins', sans-serif; }

  html, body {
    height:100%;
    display:flex; justify-content:center; align-items:center;
    background: linear-gradient(135deg,#dceeff,#a6d9ff);
  }

  .app {
    width:320px; height:640px;
    background: linear-gradient(180deg,#a6d9ff,#bce2ff);
    border-radius:25px;
    box-shadow:0 10px 25px rgba(0,80,160,0.2);
    display:flex; flex-direction:column;
    overflow:hidden;
    position:relative;
  }

  header {
    display:flex; justify-content:space-between; align-items:center;
    padding:15px; color:#003366; font-size:1.3rem;
  }

  main {
    flex:1; padding:20px; padding-bottom:70px;
  }

  #question {
    font-size:1.2rem;
    color:#003366;
    font-weight:600;
    margin-bottom:20px;
  }

  .option {
    background:white;
    padding:12px;
    border-radius:15px;
    margin-bottom:12px;
    box-shadow:0 5px 10px rgba(0,0,0,0.1);
    cursor:pointer;
    transition:0.2s;
    display:flex;
    align-items:center;
  }

  .option:active { transform:scale(0.96); }

  .option-icon {
    width:40px;
    height:40px;
    min-width:40px;
    background:#e8f2ff;
    border-radius:10px;
    display:flex;
    justify-content:center;
    align-items:center;
    margin-right:12px;
    color:#003366;
    font-size:20px;
  }

  /* Nav bar */
  .nav-container { position:absolute; left:0; right:0; bottom:0; display:flex; justify-content:center; }
  .menu-container {
    width:100%; height:45px;
    background:#fff; border-radius:12px 12px 0 0;
    display:flex; justify-content:space-around; align-items:center;
    box-shadow:0 -3px 8px rgba(0,0,0,0.1);
  }

  .menu-item { flex:1; display:flex; justify-content:center; }
  .menu-icon {
    width:30px; height:30px; border-radius:50%;
    display:flex; justify-content:center; align-items:center;
    background:#f0f2f5; color:#5f6368;
  }
</style>
</head>

<body>
<div class="app">

<header>
  <a href="QuizCategory.html" style="text-decoration:none;color:#003366;">‚Üê</a>
  <span>Quiz</span>
  <span></span>
</header>

<main>
  <div id="question">Loading...</div>
  <div id="options"></div>
</main>

<div class="nav-container">
  <div class="menu-container">
    <div class="menu-item"><div class="menu-icon"><i class="fas fa-home"></i></div></div>
    <div class="menu-item"><div class="menu-icon"><i class="fas fa-gamepad"></i></div></div>
    <div class="menu-item"><div class="menu-icon"><i class="fas fa-book"></i></div></div>
    <div class="menu-item"><div class="menu-icon"><i class="fas fa-lightbulb"></i></div></div>
    <div class="menu-item"><div class="menu-icon"><i class="fas fa-user-circle"></i></div></div>
  </div>
</div>

</div>

<script>
const category = localStorage.getItem("quizCategory");

const iconMap = {
  "Mars": "ü™ê",
  "Jupiter": "ü™ê",
  "Earth": "üåç",
  "Venus": "‚ú®",

  "0¬∞C": "‚ùÑÔ∏è",
  "50¬∞C": "üî•",
  "-10¬∞C": "‚ùÑÔ∏è",
  "10¬∞C": "üå°Ô∏è",

  "Carrot": "ü•ï",
  "Apple": "üçé",
  "Potato": "ü•î",
  "Spinach": "ü•¨",

  "India": "üáÆüá≥",
  "China": "üá®üá≥",
  "Japan": "üáØüáµ",
  "Korea": "üá∞üá∑",
  "Sushi": "üç£",

  "Akbar": "üëë",
  "Shah Jahan": "üè∞",
  "Aurangzeb": "üïå",
  "Humayun": "üèõÔ∏è",

  "1945": "üìÖ",
  "1920": "üìÜ",
  "1970": "üóìÔ∏è",
  "1940": "üìÖ",

  "5": "üî¢",
  "6": "üî¢",
  "7": "üî¢",
  "8": "üî¢",

  "Tiger": "üêÖ",
  "Lion": "ü¶Å",
  "Cheetah": "üêÜ",
  "Leopard": "üêÜ"
};

const questions = {
  science: [
    { q: "What planet is known as the Red Planet?", o:["Mars","Jupiter","Earth","Venus"], a:0 },
    { q: "Water freezes at?", o:["0¬∞C","50¬∞C","-10¬∞C","10¬∞C"], a:0 }
  ],

  food: [
    { q:"Which is a fruit?", o:["Carrot","Apple","Potato","Spinach"], a:1 },
    { q:"Sushi is from?", o:["India","China","Japan","Korea"], a:2 }
  ],

  history: [
    { q:"Who built the Taj Mahal?", o:["Akbar","Shah Jahan","Aurangzeb","Humayun"], a:1 },
    { q:"World War 2 ended in?", o:["1945","1920","1970","1940"], a:0 }
  ],

  gk: [
    { q:"How many continents?", o:["5","6","7","8"], a:2 },
    { q:"Fastest land animal?", o:["Tiger","Lion","Cheetah","Leopard"], a:2 }
  ]
};

let quiz = questions[category];
let index = 0;
let score = 0;

function loadQuestion(){
  document.getElementById("question").textContent = quiz[index].q;

  let opts = "";
  quiz[index].o.forEach((opt,i)=>{

    let icon = iconMap[opt] || "‚ùî"; // fallback if no icon found

    opts += `
      <div class="option" onclick="selectOption(${i})">
        <div class="option-icon">${icon}</div>
        <div>${opt}</div>
      </div>
    `;
  });

  document.getElementById("options").innerHTML = opts;
}

function selectOption(i){
  if(i === quiz[index].a) score++;

  index++;
  if(index >= quiz.length){
    localStorage.setItem("quizScore", score);
    window.location.href = "QuizScore.html";
  } else loadQuestion();
}

loadQuestion();
</script>

</body>
</html>
